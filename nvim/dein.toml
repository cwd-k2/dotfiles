#======================================
# lib
[[plugins]]
name = 'lib/dein'
repo = 'Shougo/dein.vim'

[[plugins]]
name   = 'lib/coc'
repo   = 'neoclide/coc.nvim'
rev    = 'release'
merged = 0

#======================================
# util
[[plugins]]
name = 'util/yankround'
repo = 'LeafCage/yankround.vim'
hook_add = '''
  let g:yankround_dir = g:nvim_cache . '/yankround'
  let g:yankround_max_history = 100

  nmap p <Plug>(yankround-p)
  nmap P <Plug>(yankround-P)
  nmap <C-p> <Plug>(yankround-prev)
  nmap <C-n> <Plug>(yankround-next)
'''

[[plugins]]
name = 'util/accelerated-jk'
repo = 'rhysd/accelerated-jk'
hook_add = '''
  let g:accelerated_jk_acceleration_table = [
        \ 7, 12, 17, 21, 24, 26, 28, 30
        \ ]
  let g:accelerated_jk_acceleration_limit = 100

  nmap j <Plug>(accelerated_jk_gj)
  nmap k <Plug>(accelerated_jk_gk)
'''

[[plugins]]
name = 'util/repeat'
repo = 'tpope/vim-repeat'

[[plugins]]
name = 'util/gitgutter'
repo = 'airblade/vim-gitgutter'
hook_add = '''
  let g:gitgutter_map_keys = 0
'''

[[plugins]]
name = 'util/surround'
repo = 'tpope/vim-surround'

[[plugins]]
name = 'util/auto-pairs'
repo = 'jiangmiao/auto-pairs'
hook_add = '''
  augroup haskellautopair
    autocmd!
    au FileType haskell let b:AutoPairs =
          \ AutoPairsDefine(
          \   { '{-' : '-}', '{-#' : '#-}' },
          \   ["'"]
          \ )
  augroup END
'''

[[plugins]]
name = 'util/sonictemplate'
repo = 'mattn/vim-sonictemplate'
hook_add = '''
  let g:sonictemplate_vim_template_dir = [
        \ '~/.opt/templates'
        \ ]
'''

[[plugins]]
name = 'util/tcomment'
repo = 'tomtom/tcomment_vim'

#======================================
# ui
[[plugins]]
name = 'ui/onedark'
repo = 'joshdick/onedark.vim'
hook_add = '''
  colorscheme onedark
'''

[[plugins]]
name = 'ui/better-whitespace'
repo = 'ntpeters/vim-better-whitespace'
hook_add = '''
  let g:better_whitespace_enabled = 1
  let g:strip_whitespace_on_save  = 1
  let g:strip_whitespace_confirm  = 0
'''

[[plugins]]
name    = 'ui/airline'
repo    = 'vim-airline/vim-airline'
depends = ['ui/vim-airline-themes']
hook_add = '''
  let g:airline_powerline_fonts = 1

  let g:airline#extensions#branch#enabled  = 1
  let g:airline#extensions#tabline#enabled = 1
  let g:airline#extensions#tagbar#enabled  = 1
  let g:airline#extensions#anzu#enabled    = 1
  let g:airline_skip_empty_sections        = 1

  let g:airline_theme = 'distinguished'

  if !exists('g:airline_symbols')
    let g:airline_symbols = {}
  endif

  let g:airline#extensions#tabline#left_sep     = ''
  let g:airline#extensions#tabline#left_alt_sep = ''

  let g:airline_left_sep         = ''
  let g:airline_left_alt_sep     = ''
  let g:airline_right_sep        = ''
  let g:airline_right_alt_sep    = ''
  let g:airline_symbols.branch   = ''
  let g:airline_symbols.readonly = ''
  let g:airline_symbols.linenr   = ''
'''

[[plugins]]
name = 'ui/airline-themes'
repo = 'vim-airline/vim-airline-themes'

[[plugins]]
name = 'ui/indent-guides'
repo = 'nathanaelkane/vim-indent-guides'
hook_add = '''
  let g:indent_guides_exclude_filetypes = [
        \ 'help',
        \ 'coc-explorer',
        \ 'haskell',
        \ 'purescript',
        \ 'vista'
        \ ]
  let g:indent_guides_guide_size  = 1
  let g:indent_guides_auto_colors = 0
  autocmd VimEnter,Colorscheme * :hi IndentGuidesOdd  ctermbg=238 ctermfg=236
  autocmd VimEnter,Colorscheme * :hi IndentGuidesEven ctermbg=233 ctermfg=236
  let g:indent_guides_enable_on_vim_startup = 1
'''

[[plugins]]
name = 'ui/devicons'
repo = 'ryanoasis/vim-devicons'

[[plugins]]
name = 'ui/vista'
repo = 'liuchengxu/vista.vim'
hook_add = '''
  let g:vista_default_executive    = 'coc'
  let g:vista_sidebar_width        = 40
  let g:vista_icon_indent          = ["╰─▸ ", "├─▸ "]
  let g:vista_blink                = [0, 0]
  let g:vista#renderer#enable_icon = 0
  nnoremap <silent> <leader>v :<C-u>Vista!!<CR>
'''

[[plugins]]
name = 'ui/rainbow-parentheses'
repo = 'junegunn/rainbow_parentheses.vim'
hook_add = '''
  let g:rainbow#pairs=[['(', ')'], ['[', ']']]
  augroup parentheses
    autocmd!
    autocmd FileType * RainbowParentheses
  augroup END
'''
